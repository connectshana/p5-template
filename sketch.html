<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p5.js Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <header class="bg-blue-600 text-white p-4">
        <h1 class="text-3xl font-bold">My p5.js Portfolio</h1>
    </header>

    <main class="container mx-auto p-4">
        <section class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">About Me</h2>
            <p class="text-gray-700">Welcome to my p5.js portfolio! I'm a creative coder passionate about generative art and interactive visualizations.</p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Sketch 1: Interactive Circles</h2>
            <div id="sketch-holder-1" class="w-full h-64 bg-white shadow-md"></div>
            <p class="mt-2 text-gray-600">Move your mouse to interact with the circles!</p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Sketch 2: Fractal Tree</h2>
            <div id="sketch-holder-2" class="w-full h-64 bg-white shadow-md"></div>
            <p class="mt-2 text-gray-600">A recursive fractal tree that changes over time.</p>
        </section>

        <section class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Sketch 3: Particle System</h2>
            <div id="sketch-holder-3" class="w-full h-64 bg-white shadow-md"></div>
            <p class="mt-2 text-gray-600">Click to add particles to the system!</p>
        </section>
    </main>

    <footer class="bg-blue-600 text-white p-4 mt-8">
        <p>&copy; 2024 My p5.js Portfolio. All rights reserved.</p>
    </footer>

    <script>
        // Sketch 1: Interactive Circles
        new p5(function(p) {
            let circles = [];

            p.setup = function() {
                let canvas = p.createCanvas(400, 200);
                canvas.parent('sketch-holder-1');
                for (let i = 0; i < 10; i++) {
                    circles.push({
                        x: p.random(p.width),
                        y: p.random(p.height),
                        r: p.random(10, 30)
                    });
                }
            };

            p.draw = function() {
                p.background(220);
                circles.forEach(circle => {
                    let d = p.dist(p.mouseX, p.mouseY, circle.x, circle.y);
                    let size = p.map(d, 0, 100, circle.r * 2, circle.r);
                    p.fill(0, 150, 255);
                    p.ellipse(circle.x, circle.y, size, size);
                });
            };
        });

        // Sketch 2: Fractal Tree
        new p5(function(p) {
            let angle = 0;

            p.setup = function() {
                let canvas = p.createCanvas(400, 200);
                canvas.parent('sketch-holder-2');
            };

            p.draw = function() {
                p.background(220);
                p.stroke(70, 40, 20);
                p.translate(p.width / 2, p.height);
                branch(60);
                angle += 0.01;
            };

            function branch(len) {
                p.line(0, 0, 0, -len);
                p.translate(0, -len);
                if (len > 4) {
                    p.push();
                    p.rotate(angle);
                    branch(len * 0.67);
                    p.pop();
                    p.push();
                    p.rotate(-angle);
                    branch(len * 0.67);
                    p.pop();
                }
            }
        });

        // Sketch 3: Particle System
        new p5(function(p) {
            let particles = [];

            p.setup = function() {
                let canvas = p.createCanvas(400, 200);
                canvas.parent('sketch-holder-3');
            };

            p.draw = function() {
                p.background(220);
                for (let i = particles.length - 1; i >= 0; i--) {
                    particles[i].update();
                    particles[i].show();
                    if (particles[i].finished()) {
                        particles.splice(i, 1);
                    }
                }
            };

            p.mousePressed = function() {
                for (let i = 0; i < 5; i++) {
                    particles.push(new Particle(p.mouseX, p.mouseY));
                }
            };

            class Particle {
                constructor(x, y) {
                    this.x = x;
                    this.y = y;
                    this.vx = p.random(-1, 1);
                    this.vy = p.random(-5, -1);
                    this.alpha = 255;
                }

                finished() {
                    return this.alpha < 0;
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    this.alpha -= 5;
                }

                show() {
                    p.noStroke();
                    p.fill(255, 0, 0, this.alpha);
                    p.ellipse(this.x, this.y, 16);
                }
            }
        });
    </script>
</body>
</html>